<div fxLayout fxLayoutAlign="center center" *ngIf="dataSource.data?.length > 0">
    <div>
        <mat-form-field>
            <mat-label>Filter</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
          </mat-form-field>
        <div class="example-container mat-elevation-z8">
            <table mat-table id="ExampleTable" matTableExporter [dataSource]="dataSource" matSort matSortStart="desc"
                (matSortChange)="customSort($event)" #exporter="matTableExporter">
                <table id="moj" class="table table-bordered">


                    <ng-container matColumnDef="partija">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Partija</th>
                        <td mat-cell *matCellDef="let element"> {{element.partija}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="atc">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Atc</th>
                        <td mat-cell *matCellDef="let element"> {{element.atc}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="naziv_proizvoda">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Naziv</th>
                        <td mat-cell *matCellDef="let element"> {{element.naziv_proizvoda}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="zasticeni_naziv">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Zaštićeni</th>
                        <td mat-cell *matCellDef="let element"> {{element.zasticeni_naziv}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="proizvodjac">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Proizvodjač</th>
                        <td mat-cell *matCellDef="let element"> {{element.proizvodjac}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="farmaceutski_oblik">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Oblik</th>
                        <td mat-cell *matCellDef="let element"> {{element.farmaceutski_oblik}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="pakovanje">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Pakovanje</th>
                        <td mat-cell *matCellDef="let element"> {{element.pakovanje}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="trazena_kolicina">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tr.Kol.</th>
                        <td mat-cell *matCellDef="let element"> {{element.trazena_kolicina}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>


                    <ng-container matColumnDef="ponudjana_kolicina">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pon.Kol.</th>
                        <td mat-cell *matCellDef="let element"> {{element.ponudjana_kolicina}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="procijenjena_jedinicna_cijena">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pr.Jed.Cijena</th>
                        <td mat-cell *matCellDef="let element"> {{element.procijenjena_jedinicna_cijena}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="ponudjena_jedinicna_cijena">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pon.Jed.Cijena</th>
                        <td mat-cell *matCellDef="let element"> {{element.ponudjena_jedinicna_cijena}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>
                    <!-- Cost Column -->
                    <ng-container matColumnDef="ponudjena_ukupna_cijena">
                        <th mat-header-cell *matHeaderCellDef> Ukupna Cijena</th>
                        <td mat-cell *matCellDef="let transaction"> {{transaction.ponudjena_ukupna_cijena}} </td>
                        <td mat-footer-cell *matFooterCellDef>{{ ukupnaPonudjena| number : '1.2-2' }}</td>
                    </ng-container>
                    <ng-container matColumnDef="procijenjena_ukupna_cijena">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Pr.Ukupna</th>
                        <td mat-cell *matCellDef="let element"> {{element.procijenjena_ukupna_cijena| number }} </td>
                        <td mat-footer-cell *matFooterCellDef>{{ ukupnoProcijenjena| number : '1.2-2' }}</td>
                    </ng-container>
                    <ng-container matColumnDef="rok_isporuke">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Rok Isporuke</th>
                        <td mat-cell *matCellDef="let element"> {{element.rok_isporuke}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="ponudjac">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Ponudjač</th>
                        <td mat-cell *matCellDef="let element"> {{element.ponudjac}} </td>
                        <td mat-footer-cell *matFooterCellDef></td>
                    </ng-container>

                    <ng-container matColumnDef="broj_tendera">
                        <th mat-header-cell [hidden]="!broj_tendera" *matHeaderCellDef mat-sort-header>Tender br.</th>
                        <td mat-cell [hidden]="!broj_tendera" *matCellDef="let element"> {{element.broj_tendera}} </td>
                        <td mat-footer-cell [hidden]="!broj_tendera" *matFooterCellDef></td>
                    </ng-container>

                </table>

                <ng-container matColumnDef="dodaj">
                    <th mat-header-cell [hidden]="!show" *matHeaderCellDef>
                        <button mat-icon-button color="primary">

                            <mat-icon aria-label="Example icon-button with a heart icon" (click)="addNew()">add
                            </mat-icon>
                        </button>
                    </th>

                    <td mat-cell *matCellDef="let row; let i=index;">
                        <button mat-icon-button color="accent">
                            <mat-icon aria-label="Example icon-button with a heart icon"
                                (click)="startEdit(i, row.id, row.partija,row.atc,row.naziv_proizvoda, row.zasticeni_naziv,row.proizvodjac
          ,row.farmaceutski_oblik,row.trazena_kolicina,row.ponudjana_kolicina,row.procijenjena_jedinicna_cijena,
          row.ponudjena_jedinicna_cijena, row.procijenjena_ukupna_cijena, row.ponudjena_ukupna_cijena, row.rok_isporuke, row.ponudjac,row.broj_tendera)">edit</mat-icon>
                        </button>
                    </td>
                    <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>


                <ng-container matColumnDef="delete sve">
                    <th mat-header-cell [hidden]="!show" *matHeaderCellDef>
                        <button mat-icon-button color="primary">
                            <mat-icon aria-label="Example icon-button with a heart icon" (click)="deleteSelected()">
                                delete</mat-icon>
                        </button>
                    </th>
                    <td mat-cell [hidden]="!show" *matCellDef="let row; let i=index;">
                        <button mat-icon-button color="warn">
                            <mat-icon aria-label="Example icon-button with a heart icon"
                                (click)="deleteItem(i, row.id)">delete
                            </mat-icon>
                        </button>
                    </td>
                    <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>

                <!-- <ng-container matColumnDef="edit">
          <th mat-header-cell [hidden]="!show" *matHeaderCellDef></th>
          <td mat-cell [hidden]="!show" *matCellDef="let row; let i=index;">
            <button mat-icon-button color="accent">
              <mat-icon aria-label="Example icon-button with a heart icon"
                (click)="startEdit(i, row.id, row.partija,row.atc,row.naziv_proizvoda, row.zasticeni_naziv,row.proizvodjac
          ,row.farmaceutski_oblik,row.trazena_kolicina,row.ponudjana_kolicina,row.procijenjena_jedinicna_cijena,
          row.ponudjena_jedinicna_cijena, row.procijenjena_ukupna_cijena, row.ponudjena_ukupna_cijena, row.rok_isporuke, row.ponudjac,row.broj_tendera)">edit</mat-icon>
            </button>
          <td mat-footer-cell *matFooterCellDef></td>
        </ng-container> -->


                <ng-container matColumnDef="selected">
                    <th mat-header-cell [hidden]="!show" *matHeaderCellDef></th>
                    <td mat-cell [hidden]="!show" *matCellDef="let row; let i=index;">
                        <section class="example-section">
                            <mat-checkbox class="example-margin" (click)="updateSelected(row.id)"></mat-checkbox>

                        </section>
                    <td mat-footer-cell *matFooterCellDef></td>
                </ng-container>


                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>

                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>
    </div>